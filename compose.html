<!DOCTYPE html>
<html lang="ru" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Написать письмо | Vision Mail</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/themes.css">
    <link rel="stylesheet" href="css/animations.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/pages.css">
</head>
<body class="compose-page">
    <!-- Анимированный фон -->
    <div class="background-animation">
        <div class="particles-container" id="particles"></div>
        <div class="gradient-mesh"></div>
    </div>
    
    <!-- Основной контейнер -->
    <div class="app-container">
        <!-- Упрощенная навигация для компоновщика -->
        <nav class="compose-header scroll-glass">
            <div class="compose-header-left">
                <a href="inbox.html" class="back-button neumorphic-button">
                    <svg viewBox="0 0 24 24">
                        <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
                    </svg>
                    Назад
                </a>
                <h1 class="compose-title">Новое письмо</h1>
            </div>
            
            <div class="compose-header-right">
                <button class="action-button neumorphic-button" data-action="save-draft">
                    <svg viewBox="0 0 24 24">
                        <path d="M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"/>
                    </svg>
                    Черновик
                </button>
                
                <button class="theme-toggle" id="themeToggle">
                    <span class="theme-icon sun">
                        <svg viewBox="0 0 24 24">
                            <circle cx="12" cy="12" r="5"/>
                            <line x1="12" y1="1" x2="12" y2="3"/>
                            <line x1="12" y1="21" x2="12" y2="23"/>
                            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
                            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
                            <line x1="1" y1="12" x2="3" y2="12"/>
                            <line x1="21" y1="12" x2="23" y2="12"/>
                            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
                            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
                        </svg>
                    </span>
                    <span class="theme-icon moon">
                        <svg viewBox="0 0 24 24">
                            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                        </svg>
                    </span>
                    <span class="theme-slider"></span>
                </button>
            </div>
        </nav>
        
        <!-- Основное содержимое -->
        <main class="compose-content">
            <form class="compose-form glass-panel" id="composeForm">
                <div class="compose-header-fields">
                    <div class="input-group">
                        <div class="neumorphic-input">
                            <input type="text" id="to" required placeholder=" ">
                            <label for="to">Кому</label>
                            <div class="input-border"></div>
                            <div class="input-glow"></div>
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <div class="neumorphic-input">
                            <input type="text" id="cc" placeholder=" ">
                            <label for="cc">Копия (СС)</label>
                            <div class="input-border"></div>
                            <div class="input-glow"></div>
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <div class="neumorphic-input">
                            <input type="text" id="bcc" placeholder=" ">
                            <label for="bcc">Скрытая копия (ВСС)</label>
                            <div class="input-border"></div>
                            <div class="input-glow"></div>
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <div class="neumorphic-input">
                            <input type="text" id="subject" required placeholder=" ">
                            <label for="subject">Тема</label>
                            <div class="input-border"></div>
                            <div class="input-glow"></div>
                        </div>
                    </div>
                </div>
                
                <div class="compose-toolbar">
                    <div class="toolbar-group">
                        <button type="button" class="toolbar-button" data-command="bold" title="Жирный">
                            <svg viewBox="0 0 24 24">
                                <path d="M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z"/>
                            </svg>
                        </button>
                        <button type="button" class="toolbar-button" data-command="italic" title="Курсив">
                            <svg viewBox="0 0 24 24">
                                <path d="M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4h-8z"/>
                            </svg>
                        </button>
                        <button type="button" class="toolbar-button" data-command="underline" title="Подчеркнутый">
                            <svg viewBox="0 0 24 24">
                                <path d="M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"/>
                            </svg>
                        </button>
                        <button type="button" class="toolbar-button" data-command="insertUnorderedList" title="Список">
                            <svg viewBox="0 0 24 24">
                                <path d="M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"/>
                            </svg>
                        </button>
                    </div>
                    
                    <div class="toolbar-group">
                        <button type="button" class="toolbar-button" data-command="foreColor" data-value="#000000" title="Цвет текста">
                            <svg viewBox="0 0 24 24">
                                <path d="M17.5 15l-5-5-5 5h10z"/>
                            </svg>
                        </button>
                        <button type="button" class="toolbar-button" data-command="insertLink" title="Ссылка">
                            <svg viewBox="0 0 24 24">
                                <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>
                            </svg>
                        </button>
                        <button type="button" class="toolbar-button" data-action="insertImage" title="Изображение">
                            <svg viewBox="0 0 24 24">
                                <path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>
                            </svg>
                        </button>
                        <button type="button" class="toolbar-button" data-action="emoji" title="Смайлики">
                            <svg viewBox="0 0 24 24">
                                <path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"/>
                            </svg>
                        </button>
                    </div>
                    
                    <div class="toolbar-group">
                        <button type="button" class="toolbar-button" data-action="attach" title="Прикрепить файл">
                            <svg viewBox="0 0 24 24">
                                <path d="M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"/>
                            </svg>
                            Прикрепить
                        </button>
                    </div>
                </div>
                
                <div class="compose-editor">
                    <div class="email-editor" id="emailBody" contenteditable="true" data-placeholder="Начните писать ваше сообщение здесь...">
                        
                    </div>
                </div>
                
                <div class="compose-attachments" id="attachmentsArea">
                    <h3 class="attachments-title">Вложения</h3>
                    <div class="attachments-dropzone" id="attachmentsDropzone">
                        <svg viewBox="0 0 24 24">
                            <path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"/>
                        </svg>
                        <p>Перетащите файлы сюда или <span class="browse-link">выберите файлы</span></p>
                        <input type="file" multiple style="display: none;">
                    </div>
                    <div class="attachments-list" id="attachmentsList"></div>
                </div>
                
                <div class="compose-footer">
                    <div class="footer-left">
                        <button type="button" class="footer-button" data-action="formatOptions">
                            <svg viewBox="0 0 24 24">
                                <path d="M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"/>
                            </svg>
                            Форматирование
                        </button>
                        
                        <label class="checkbox-container">
                            <input type="checkbox" id="important" name="important">
                            <span class="checkbox-custom neumorphic-checkbox"></span>
                            <span class="checkbox-label">Важное</span>
                        </label>
                    </div>
                    
                    <div class="footer-right">
                        <button type="button" class="cancel-button neumorphic-button" onclick="window.history.back()">
                            Отмена
                        </button>
                        
                        <button type="submit" class="send-button neumorphic-button neon-glow" id="sendButton">
                            <span class="button-text">Отправить</span>
                            <span class="button-glow"></span>
                            <span class="button-progress"></span>
                            <svg class="send-icon" viewBox="0 0 24 24">
                                <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
                            </svg>
                        </button>
                    </div>
                </div>
            </form>
        </main>
    </div>
    
    <!-- Модальное окно вложений -->
    <div class="modal-overlay" id="attachmentsModal">
        <div class="modal-container glass-panel">
            <div class="modal-header">
                <h2>Управление вложениями</h2>
                <button class="modal-close">×</button>
            </div>
            <div class="modal-content">
                <!-- Содержимое модального окна -->
            </div>
            <div class="modal-footer">
                <button class="modal-button cancel">Отмена</button>
                <button class="modal-button confirm">Готово</button>
            </div>
        </div>
    </div>
    
    <!-- Скрипты -->
    <script src="js/theme.js"></script>
    <script src="js/animations.js"></script>
    <script src="js/app.js"></script>
    <script src="js/compose.js"></script>
</body>
</html>