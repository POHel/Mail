<!DOCTYPE html>
<html lang="ru" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Поиск | Vision Mail</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/themes.css">
    <link rel="stylesheet" href="css/animations.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/pages.css">
    <link rel="stylesheet" href="css/pages-additional.css">
</head>
<body class="search-page">
    <!-- Анимированный фон -->
    <div class="background-animation">
        <div class="particles-container" id="particles"></div>
        <div class="gradient-mesh"></div>
    </div>
    
    <!-- Основной контейнер -->
    <div class="app-container">
        <!-- Хедер поиска -->
        <nav class="search-header scroll-glass">
            <div class="header-left">
                <a href="inbox.html" class="back-button neumorphic-button">
                    <svg viewBox="0 0 24 24">
                        <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
                    </svg>
                </a>
                <h1 class="search-title">
                    <svg viewBox="0 0 24 24">
                        <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
                    </svg>
                    Поиск
                </h1>
            </div>
            
            <div class="header-right">
                <button class="theme-toggle" id="themeToggle">
                    <span class="theme-icon sun">
                        <svg viewBox="0 0 24 24">
                            <circle cx="12" cy="12" r="5"/>
                            <line x1="12" y1="1" x2="12" y2="3"/>
                            <line x1="12" y1="21" x2="12" y2="23"/>
                            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
                            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
                            <line x1="1" y1="12" x2="3" y2="12"/>
                            <line x1="21" y1="12" x2="23" y2="12"/>
                            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
                            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
                        </svg>
                    </span>
                    <span class="theme-icon moon">
                        <svg viewBox="0 0 24 24">
                            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                        </svg>
                    </span>
                    <span class="theme-slider"></span>
                </button>
            </div>
        </nav>
        
        <!-- Основное содержимое поиска -->
        <main class="search-content">
            <!-- Панель поиска -->
            <div class="search-panel glass-panel">
                <div class="search-input-container">
                    <div class="search-input-wrapper">
                        <svg class="search-icon" viewBox="0 0 24 24">
                            <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
                        </svg>
                        <input 
                            type="text" 
                            class="search-input" 
                            id="mainSearchInput"
                            placeholder="Ищите письма, контакты, вложения..."
                            autocomplete="off"
                            autocapitalize="off"
                            spellcheck="false"
                        >
                        <div class="search-input-border"></div>
                        <div class="search-input-glow"></div>
                        <button class="search-clear" id="searchClear">
                            <svg viewBox="0 0 24 24">
                                <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                            </svg>
                        </button>
                        <button class="search-voice" id="searchVoice">
                            <svg viewBox="0 0 24 24">
                                <path d="M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.49 6-3.31 6-6.72h-1.7z"/>
                            </svg>
                        </button>
                    </div>
                    
                    <button class="search-button neumorphic-button neon-glow" id="searchButton">
                        Найти
                    </button>
                </div>
                
                <div class="search-filters">
                    <div class="filter-group">
                        <span class="filter-label">Искать в:</span>
                        <div class="filter-options">
                            <label class="checkbox-container">
                                <input type="checkbox" name="searchIn" value="inbox" checked>
                                <span class="checkbox-custom neumorphic-checkbox"></span>
                                <span class="checkbox-label">Входящие</span>
                            </label>
                            <label class="checkbox-container">
                                <input type="checkbox" name="searchIn" value="sent" checked>
                                <span class="checkbox-custom neumorphic-checkbox"></span>
                                <span class="checkbox-label">Отправленные</span>
                            </label>
                            <label class="checkbox-container">
                                <input type="checkbox" name="searchIn" value="drafts">
                                <span class="checkbox-custom neumorphic-checkbox"></span>
                                <span class="checkbox-label">Черновики</span>
                            </label>
                            <label class="checkbox-container">
                                <input type="checkbox" name="searchIn" value="contacts" checked>
                                <span class="checkbox-custom neumorphic-checkbox"></span>
                                <span class="checkbox-label">Контакты</span>
                            </label>
                            <label class="checkbox-container">
                                <input type="checkbox" name="searchIn" value="attachments">
                                <span class="checkbox-custom neumorphic-checkbox"></span>
                                <span class="checkbox-label">Вложения</span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="filter-group">
                        <span class="filter-label">Период:</span>
                        <select class="filter-select neumorphic-element" id="timeFilter">
                            <option value="all">За все время</option>
                            <option value="today">Сегодня</option>
                            <option value="week">За неделю</option>
                            <option value="month">За месяц</option>
                            <option value="year">За год</option>
                            <option value="custom">Пользовательский...</option>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <span class="filter-label">Сортировка:</span>
                        <select class="filter-select neumorphic-element" id="sortFilter">
                            <option value="relevance">По релевантности</option>
                            <option value="date-desc">По дате (новые)</option>
                            <option value="date-asc">По дате (старые)</option>
                            <option value="sender">По отправителю</option>
                        </select>
                    </div>
                </div>
                
                <div class="search-suggestions" id="searchSuggestions">
                    <div class="suggestions-header">
                        <h3>Популярные запросы</h3>
                    </div>
                    <div class="suggestions-list">
                        <button class="suggestion-item" data-query="важные письма">
                            <svg viewBox="0 0 24 24">
                                <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>
                            </svg>
                            Важные письма
                        </button>
                        <button class="suggestion-item" data-query="с вложениями">
                            <svg viewBox="0 0 24 24">
                                <path d="M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"/>
                            </svg>
                            С вложениями
                        </button>
                        <button class="suggestion-item" data-query="непрочитанные">
                            <svg viewBox="0 0 24 24">
                                <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
                            </svg>
                            Непрочитанные
                        </button>
                        <button class="suggestion-item" data-query="за последнюю неделю">
                            <svg viewBox="0 0 24 24">
                                <path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/>
                            </svg>
                            За последнюю неделю
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Результаты поиска -->
            <div class="search-results-container">
                <div class="results-header">
                    <h2 class="results-title" id="resultsTitle">
                        <span class="title-text">Введите запрос для поиска</span>
                        <span class="results-count" id="resultsCount"></span>
                    </h2>
                    
                    <div class="results-controls">
                        <div class="results-view">
                            <button class="view-button active" data-view="list">
                                <svg viewBox="0 0 24 24">
                                    <path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"/>
                                </svg>
                            </button>
                            <button class="view-button" data-view="grid">
                                <svg viewBox="0 0 24 24">
                                    <path d="M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z"/>
                                </svg>
                            </button>
                        </div>
                        
                        <div class="results-actions">
                            <button class="action-button neumorphic-button" data-action="save-search">
                                <svg viewBox="0 0 24 24">
                                    <path d="M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"/>
                                </svg>
                                Сохранить поиск
                            </button>
                            
                            <div class="action-dropdown">
                                <button class="action-button neumorphic-button" data-action="export-results">
                                    <svg viewBox="0 0 24 24">
                                        <path d="M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2v9.67z"/>
                                    </svg>
                                    Экспорт
                                </button>
                                <div class="dropdown-menu">
                                    <button class="dropdown-item" data-export="pdf">
                                        <svg viewBox="0 0 24 24">
                                            <path d="M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5v1zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5v3zm4-3H19v1h1.5V11H19v2h-1.5V7h3v1.5zM9 9.5h1v-1H9v1zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm10 5.5h1v-3h-1v3z"/>
                                        </svg>
                                        Экспорт в PDF
                                    </button>
                                    <button class="dropdown-item" data-export="csv">
                                        <svg viewBox="0 0 24 24">
                                            <path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zM6 20V4h7v5h5v11H6z"/>
                                        </svg>
                                        Экспорт в CSV
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="search-results" id="searchResults">
                    <!-- Состояние до поиска -->
                    <div class="search-empty-state" id="emptyState">
                        <div class="empty-state-icon">
                            <svg viewBox="0 0 24 24">
                                <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
                            </svg>
                        </div>
                        <h3>Начните поиск</h3>
                        <p>Введите запрос в поле выше для поиска писем, контактов и вложений</p>
                        
                        <div class="empty-state-tips">
                            <h4>Советы по поиску:</h4>
                            <ul>
                                <li>Используйте кавычки для точного совпадения: <code>"важная встреча"</code></li>
                                <li>Исключайте слова с минусом: <code>работа -совещание</code></li>
                                <li>Ищите по отправителю: <code>from:anna@vision.com</code></li>
                                <li>Ищите по дате: <code>after:2026-01-01 before:2026-01-31</code></li>
                                <li>Ищите вложения: <code>has:attachment filename:pdf</code></li>
                            </ul>
                        </div>
                    </div>
                    
                    <!-- Результаты будут загружены сюда -->
                </div>
                
                <!-- Панель фильтров результатов -->
                <div class="results-filters-panel glass-panel" id="resultsFilters">
                    <div class="filters-header">
                        <h3>Фильтры результатов</h3>
                        <button class="filters-clear" id="clearFilters">Сбросить</button>
                    </div>
                    
                    <div class="filters-content">
                        <div class="filter-category">
                            <h4>Тип</h4>
                            <div class="filter-options">
                                <label class="checkbox-container">
                                    <input type="checkbox" name="resultType" value="email" checked>
                                    <span class="checkbox-custom neumorphic-checkbox"></span>
                                    <span class="checkbox-label">Письма</span>
                                    <span class="filter-count">(42)</span>
                                </label>
                                <label class="checkbox-container">
                                    <input type="checkbox" name="resultType" value="contact" checked>
                                    <span class="checkbox-custom neumorphic-checkbox"></span>
                                    <span class="checkbox-label">Контакты</span>
                                    <span class="filter-count">(8)</span>
                                </label>
                                <label class="checkbox-container">
                                    <input type="checkbox" name="resultType" value="attachment">
                                    <span class="checkbox-custom neumorphic-checkbox"></span>
                                    <span class="checkbox-label">Вложения</span>
                                    <span class="filter-count">(15)</span>
                                </label>
                            </div>
                        </div>
                        
                        <div class="filter-category">
                            <h4>Отправитель</h4>
                            <div class="filter-options">
                                <label class="checkbox-container">
                                    <input type="checkbox" name="sender" value="vision">
                                    <span class="checkbox-custom neumorphic-checkbox"></span>
                                    <span class="checkbox-label">Vision Team</span>
                                    <span class="filter-count">(12)</span>
                                </label>
                                <label class="checkbox-container">
                                    <input type="checkbox" name="sender" value="anna">
                                    <span class="checkbox-custom neumorphic-checkbox"></span>
                                    <span class="checkbox-label">Анна Петрова</span>
                                    <span class="filter-count">(7)</span>
                                </label>
                                <label class="checkbox-container">
                                    <input type="checkbox" name="sender" value="mikhail">
                                    <span class="checkbox-custom neumorphic-checkbox"></span>
                                    <span class="checkbox-label">Михаил Сидоров</span>
                                    <span class="filter-count">(5)</span>
                                </label>
                            </div>
                        </div>
                        
                        <div class="filter-category">
                            <h4>Дата</h4>
                            <div class="date-filters">
                                <div class="date-range">
                                    <label for="dateFrom">С:</label>
                                    <input type="date" id="dateFrom" class="neumorphic-input">
                                </div>
                                <div class="date-range">
                                    <label for="dateTo">По:</label>
                                    <input type="date" id="dateTo" class="neumorphic-input">
                                </div>
                            </div>
                        </div>
                        
                        <div class="filter-category">
                            <h4>Размер</h4>
                            <div class="filter-options">
                                <label class="checkbox-container">
                                    <input type="checkbox" name="size" value="small">
                                    <span class="checkbox-custom neumorphic-checkbox"></span>
                                    <span class="checkbox-label">Менее 1 MB</span>
                                </label>
                                <label class="checkbox-container">
                                    <input type="checkbox" name="size" value="medium">
                                    <span class="checkbox-custom neumorphic-checkbox"></span>
                                    <span class="checkbox-label">1-5 MB</span>
                                </label>
                                <label class="checkbox-container">
                                    <input type="checkbox" name="size" value="large">
                                    <span class="checkbox-custom neumorphic-checkbox"></span>
                                    <span class="checkbox-label">Более 5 MB</span>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="filters-footer">
                        <button class="filters-apply neumorphic-button">
                            Применить фильтры
                        </button>
                    </div>
                </div>
            </div>
        </main>
    </div>
    
    <!-- Скрипты -->
    <script src="js/theme.js"></script>
    <script src="js/animations.js"></script>
    <script src="js/app.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/search.js"></script>
</body>
</html>